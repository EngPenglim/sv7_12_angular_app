{
  "version": 3,
  "sources": ["src/app/service/cart-ser.ts"],
  "sourcesContent": ["import {Injectable} from '@angular/core';\r\nimport {Product, CartItem} from '../models/products.model';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CartSer {\r\n  private cartKey = 'cart_items';\r\n  private cartItems: CartItem[] = [];\r\n\r\n  private cartSubject = new BehaviorSubject<CartItem[]>([]);\r\n  cart$ = this.cartSubject.asObservable();\r\n\r\n  constructor() {\r\n    const storedCart = localStorage.getItem(this.cartKey);\r\n    if (storedCart) {\r\n      this.cartItems = JSON.parse(storedCart);\r\n      this.cartSubject.next(this.cartItems);\r\n    }\r\n  }\r\n\r\n  addToCart(product: Product, quantity: number) {\r\n    const index = this.cartItems.findIndex(item => item.product.id === product.id);\r\n\r\n    if (index > -1) {\r\n      this.cartItems[index].quantity += 1;\r\n    } else {\r\n      this.cartItems.push({ product, quantity: 1 });\r\n    }\r\n\r\n    this.updateLocalStorage();\r\n  }\r\n\r\n  removeFromCart(productId: number) {\r\n    this.cartItems = this.cartItems.filter(item => item.product.id !== productId);\r\n    this.updateLocalStorage();\r\n  }\r\n\r\n  clearCart() {\r\n    this.cartItems = [];\r\n    this.updateLocalStorage();\r\n  }\r\n\r\n  private updateLocalStorage() {\r\n    localStorage.setItem(this.cartKey, JSON.stringify(this.cartItems));\r\n    this.cartSubject.next(this.cartItems);\r\n  }\r\n\r\n  getCart() {\r\n    return this.cartItems;\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;IAOa;;;;;AAPb;AAEA;AAKO,IAAM,UAAN,MAAMA,SAAO;MACV,UAAU;MACV,YAAwB,CAAA;MAExB,cAAc,IAAI,gBAA4B,CAAA,CAAE;MACxD,QAAQ,KAAK,YAAY,aAAY;MAErC,cAAA;AACE,cAAM,aAAa,aAAa,QAAQ,KAAK,OAAO;AACpD,YAAI,YAAY;AACd,eAAK,YAAY,KAAK,MAAM,UAAU;AACtC,eAAK,YAAY,KAAK,KAAK,SAAS;QACtC;MACF;MAEA,UAAU,SAAkB,UAAgB;AAC1C,cAAM,QAAQ,KAAK,UAAU,UAAU,UAAQ,KAAK,QAAQ,OAAO,QAAQ,EAAE;AAE7E,YAAI,QAAQ,IAAI;AACd,eAAK,UAAU,KAAK,EAAE,YAAY;QACpC,OAAO;AACL,eAAK,UAAU,KAAK,EAAE,SAAS,UAAU,EAAC,CAAE;QAC9C;AAEA,aAAK,mBAAkB;MACzB;MAEA,eAAe,WAAiB;AAC9B,aAAK,YAAY,KAAK,UAAU,OAAO,UAAQ,KAAK,QAAQ,OAAO,SAAS;AAC5E,aAAK,mBAAkB;MACzB;MAEA,YAAS;AACP,aAAK,YAAY,CAAA;AACjB,aAAK,mBAAkB;MACzB;MAEQ,qBAAkB;AACxB,qBAAa,QAAQ,KAAK,SAAS,KAAK,UAAU,KAAK,SAAS,CAAC;AACjE,aAAK,YAAY,KAAK,KAAK,SAAS;MACtC;MAEA,UAAO;AACL,eAAO,KAAK;MACd;;;AA5CW,cAAO,WAAA;MAHnB,WAAW;QACV,YAAY;OACb;OACY,OAAO;;;",
  "names": ["CartSer"]
}
